{% macro post_card(post, author_profile_picture) %}
<div class="card card-sm bg-base-200 shadow-sm">
    <figure>
        <img
            src="{{ url_for('return_post_banner.return_post_banner', post_id=post[0]) }}"
            alt="{{ post[1] }}"
            class="h-48 w-full object-cover"
        />
    </figure>
    <div class="card-body">
        <span class="badge badge-secondary badge-sm">{{ post[9] }}</span>
        <div class="flex justify-between items-start gap-2">
            <a
                href="{{ url_for('post.post', slug=get_slug_from_post_title(post[1]), url_id=post[10]) }}"
                class="card-title text-lg link link-hover line-clamp-2 flex-1"
            >
                {{ post[1] }}
            </a>
            {% if session['username'] %}
                <button 
                    class="btn btn-ghost btn-xs bookmark-btn" 
                    data-post-id="{{ post[0] }}"
                    onclick="toggleBookmark({{ post[0] }}, this)"
                    title="Add bookmark"
                >
                    <i class="ti ti-bookmark text-lg"></i>
                </button>
            {% endif %}
        </div>
        <p class="text-sm text-base-content/70 line-clamp-3">{{ post[11] }}</p>
        <div class="card-actions justify-between items-center mt-auto pt-2">
            <a href="/user/{{ post[5] }}" class="flex items-center gap-2">
                <div class="avatar">
                    <div class="w-7 rounded">
                        <img src="{{ author_profile_picture }}" alt="{{ post[5] }}" />
                    </div>
                </div>
                <span class="text-sm font-medium">{{ post[5] }}</span>
            </a>
            <span class="date text-xs text-base-content/60">{{ post[7] }}</span>
        </div>
    </div>
</div>
{% endmacro %}
